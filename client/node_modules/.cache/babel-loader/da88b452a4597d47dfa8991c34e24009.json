{"ast":null,"code":"var _jsxFileName = \"/Users/files/react_learning/projects/root/smcovered/client/src/components/admin/CreateAmbass.js\";\n// @yuchen\n// GOAL: create ambass acount in admin dashboard\n// page need to be authenticated not for now  do not store token 2\nimport React, { useState } from 'react'; // import Avatar from '@material-ui/core/Avatar';\n\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField'; // import FormControlLabel from '@material-ui/core/FormControlLabel';\n// import Checkbox from '@material-ui/core/Checkbox';\n// import Link from '@material-ui/core/Link';\n\nimport Grid from '@material-ui/core/Grid'; // import Box from '@material-ui/core/Box';\n// import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\n\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom'; //import { login } from '../../actions/auth'       // @yuchen 需要的做redirect\n\nimport { register } from '../../actions/auth';\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nconst CreateAmbass = ({\n  register,\n  isAuthenticated,\n  title\n}) => {\n  // @yuchen 先判断 admin 的 token；1 则update\n  console.log(isAuthenticated);\n  console.log(localStorage.token);\n  const classes = useStyles();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = formData;\n\n  const onChange = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const url = 'amUser';\n    console.log(formData); //@ yuchen\n\n    register(email, password, url);\n  }; // console.log(title)\n  // Redirect if logged in\n  // console.log(isAuthenticated)\n  // console.log(title)\n\n\n  if (isAuthenticated) {\n    if (title === 'basic') {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/ambassador\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 14\n        }\n      });\n    } else if (title === 'admin') {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/admin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 14\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Sign Up by Admin\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    onSubmit: e => onSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"email\",\n    label: \"Email Address\",\n    name: \"email\",\n    autoComplete: \"email\",\n    value: email,\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    id: \"password\",\n    autoComplete: \"current-password\",\n    minLength: \"6\",\n    value: password,\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, \"Create Ambass\"))));\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  title: state.auth.title\n});\n\nexport default connect(mapStateToProps, {\n  register\n})(CreateAmbass);","map":{"version":3,"sources":["/Users/files/react_learning/projects/root/smcovered/client/src/components/admin/CreateAmbass.js"],"names":["React","useState","Button","CssBaseline","TextField","Grid","Typography","makeStyles","Container","connect","Redirect","register","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","primary","main","form","width","submit","CreateAmbass","isAuthenticated","title","console","log","localStorage","token","classes","formData","setFormData","email","password","onChange","e","target","name","value","onSubmit","preventDefault","url","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["// @yuchen\n// GOAL: create ambass acount in admin dashboard\n// page need to be authenticated not for now  do not store token 2\n\n\nimport React, { useState } from 'react'\n// import Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\n// import Checkbox from '@material-ui/core/Checkbox';\n// import Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\n// import Box from '@material-ui/core/Box';\n// import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\n//import { login } from '../../actions/auth'       // @yuchen 需要的做redirect\nimport { register } from '../../actions/auth'\n\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\nconst CreateAmbass = ({ register, isAuthenticated, title }) => {\n\n\t// @yuchen 先判断 admin 的 token；1 则update\n\tconsole.log(isAuthenticated)\n\tconsole.log(localStorage.token)\n\t\n  const classes = useStyles();\n\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n  })\n\n  const {email, password} = formData;\n\n  const onChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  })\n\n  const onSubmit = e => {\n\t\te.preventDefault();\n\t\tconst url = 'amUser'\n\t\tconsole.log(formData)   //@ yuchen\n\n    register(email, password, url)\n  }\n\n  // console.log(title)\n\n  // Redirect if logged in\n  // console.log(isAuthenticated)\n  // console.log(title)\n  if (isAuthenticated) {\n    if (title === 'basic') {\n      return <Redirect to='/ambassador' />\n    } else if (title === 'admin') {\n      return <Redirect to='/admin' />\n    }\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign Up by Admin\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={e => onSubmit(e)}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                autoComplete=\"email\"\n                value={email}\n                onChange={e => onChange(e)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n                minLength='6'\n                value={password}\n                onChange={e => onChange(e)}\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n            className={classes.submit}\n          >\n            Create Ambass\n          </Button>\n          {/* <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href=\"/register\" variant=\"body2\">\n                Don't have an account? Sign up\n              </Link>\n            </Grid>\n          </Grid> */}\n        </form>\n      </div>\n    </Container>\n  );\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  title: state.auth.title\n});\n\nexport default connect(mapStateToProps, { register })(CreateAmbass);\n"]},"metadata":{},"sourceType":"module"}