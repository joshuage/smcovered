{"ast":null,"code":"var _jsxFileName = \"/Users/files/react_learning/projects/root/smcovered/client/src/components/admin/CreateAmbass.js\";\n// @yuchen\n// GOAL: create ambass acount in admin dashboard\n// page need to be authenticated not for now  do not store token 2\nimport React, { useState, useEffect } from 'react'; // import Avatar from '@material-ui/core/Avatar';\n\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField'; // import FormControlLabel from '@material-ui/core/FormControlLabel';\n// import Checkbox from '@material-ui/core/Checkbox';\n// import Link from '@material-ui/core/Link';\n\nimport Grid from '@material-ui/core/Grid'; // import Box from '@material-ui/core/Box';\n// import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\n\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom'; //import { login } from '../../actions/auth'       // @yuchen 需要的做redirect\n\nimport { register } from '../../actions/auth'; // @yuchen apis\n\nimport { createAdminToken } from '../../apis/yuchenAPIs';\nim;\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nconst CreateAmbass = ({\n  register,\n  isAuthenticated,\n  title\n}) => {\n  useEffect(() => {\n    createAdminToken('yuchen@yuchen.com', '666');\n  }, []); // @yuchen 先判断 admin 的 token；1 则update data，2 则redirect到登陆\n  // console.log(isAuthenticated)\n  // console.log(localStorage.token)\n\n  if (localStorage.token) {\n    console.log('theres a token');\n  }\n\n  const classes = useStyles();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = formData;\n\n  const onChange = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const url = 'amUser';\n    console.log(formData); //@ yuchen\n\n    register(email, password, url);\n  }; // console.log(title)\n  // Redirect if logged in\n  // console.log(isAuthenticated)\n  // console.log(title)\n\n\n  if (isAuthenticated) {\n    if (title === 'basic') {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/ambassador\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      });\n    } else if (title === 'admin') {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/admin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, \"Sign Up by Admin\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    onSubmit: e => onSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"email\",\n    label: \"Email Address\",\n    name: \"email\",\n    autoComplete: \"email\",\n    value: email,\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    id: \"password\",\n    autoComplete: \"current-password\",\n    minLength: \"6\",\n    value: password,\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 8\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 6\n    }\n  }, \"Create Ambass\"))));\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  title: state.auth.title\n});\n\nexport default connect(mapStateToProps, {\n  register\n})(CreateAmbass);","map":{"version":3,"sources":["/Users/files/react_learning/projects/root/smcovered/client/src/components/admin/CreateAmbass.js"],"names":["React","useState","useEffect","Button","CssBaseline","TextField","Grid","Typography","makeStyles","Container","connect","Redirect","register","createAdminToken","im","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","primary","main","form","width","submit","CreateAmbass","isAuthenticated","title","localStorage","token","console","log","classes","formData","setFormData","email","password","onChange","e","target","name","value","onSubmit","preventDefault","url","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["// @yuchen\n// GOAL: create ambass acount in admin dashboard\n// page need to be authenticated not for now  do not store token 2\n\n\nimport React, { useState, useEffect } from 'react'\n// import Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\n// import Checkbox from '@material-ui/core/Checkbox';\n// import Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\n// import Box from '@material-ui/core/Box';\n// import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\n//import { login } from '../../actions/auth'       // @yuchen 需要的做redirect\nimport { register } from '../../actions/auth'\n\n// @yuchen apis\nimport { createAdminToken } from '../../apis/yuchenAPIs'\nim\n\n\nconst useStyles = makeStyles((theme) => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.primary.main,\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\n\nconst CreateAmbass = ({ register, isAuthenticated, title }) => {\n\n\tuseEffect (() =>{\n\t\tcreateAdminToken('yuchen@yuchen.com', '666')\n\t}, [])\n\t\n\t// @yuchen 先判断 admin 的 token；1 则update data，2 则redirect到登陆\n\t// console.log(isAuthenticated)\n\t// console.log(localStorage.token)\n\n\tif (localStorage.token){\n\t\tconsole.log('theres a token')\n\t}\n\n\n\n\tconst classes = useStyles();\n\n\tconst [formData, setFormData] = useState({\n\t\temail: '',\n\t\tpassword: '',\n\t})\n\n\tconst { email, password } = formData;\n\n\tconst onChange = e => setFormData({\n\t\t...formData,\n\t\t[e.target.name]: e.target.value\n\t})\n\n\tconst onSubmit = e => {\n\t\te.preventDefault();\n\t\tconst url = 'amUser'\n\t\tconsole.log(formData)   //@ yuchen\n\n\t\tregister(email, password, url)\n\t}\n\n\t// console.log(title)\n\n\t// Redirect if logged in\n\t// console.log(isAuthenticated)\n\t// console.log(title)\n\tif (isAuthenticated) {\n\t\tif (title === 'basic') {\n\t\t\treturn <Redirect to='/ambassador' />\n\t\t} else if (title === 'admin') {\n\t\t\treturn <Redirect to='/admin' />\n\t\t}\n\t}\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tSign Up by Admin\n        </Typography>\n\t\t\t\t<form className={classes.form} noValidate onSubmit={e => onSubmit(e)}>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\tonChange={e => onChange(e)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\tminLength='6'\n\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\tonChange={e => onChange(e)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t>\n\t\t\t\t\t\tCreate Ambass\n          </Button>\n\t\t\t\t\t{/* <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href=\"/register\" variant=\"body2\">\n                Don't have an account? Sign up\n              </Link>\n            </Grid>\n          </Grid> */}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</Container>\n\t);\n}\n\nconst mapStateToProps = state => ({\n\tisAuthenticated: state.auth.isAuthenticated,\n\ttitle: state.auth.title\n});\n\nexport default connect(mapStateToProps, { register })(CreateAmbass);\n"]},"metadata":{},"sourceType":"module"}